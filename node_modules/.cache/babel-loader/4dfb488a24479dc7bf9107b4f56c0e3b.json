{"ast":null,"code":"/*\nCopyright (c) 2015-present NAVER Corp.\nname: @egjs/react-flicking\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-flicking/tree/master/packages/react-flicking\nversion: 4.4.2\n*/\nimport * as React from 'react';\nimport React__default from 'react';\nimport Component from '@egjs/component';\nimport ListDiffer, { diff } from '@egjs/list-differ';\nimport VanillaFlicking__default, { getFlickingAttached, ExternalRenderer, VirtualRenderingStrategy, NormalRenderingStrategy, sync, getDefaultCameraTransform, range, EVENTS, getRenderingPanels, withFlickingMethods } from '@egjs/flicking';\nexport * from '@egjs/flicking';\nimport { findDOMNode } from 'react-dom';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nvar DEFAULT_PROPS = {\n  viewportTag: \"div\",\n  cameraTag: \"div\",\n  plugins: [],\n  useFindDOMNode: false,\n  hideBeforeInit: false,\n  onReady: function onReady(e) {},\n  onBeforeResize: function onBeforeResize(e) {},\n  onAfterResize: function onAfterResize(e) {},\n  onHoldStart: function onHoldStart(e) {},\n  onHoldEnd: function onHoldEnd(e) {},\n  onMoveStart: function onMoveStart(e) {},\n  onMove: function onMove(e) {},\n  onMoveEnd: function onMoveEnd(e) {},\n  onWillChange: function onWillChange(e) {},\n  onChanged: function onChanged(e) {},\n  onWillRestore: function onWillRestore(e) {},\n  onRestored: function onRestored(e) {},\n  onSelect: function onSelect(e) {},\n  onNeedPanel: function onNeedPanel(e) {},\n  onVisibleChange: function onVisibleChange(e) {},\n  onReachEdge: function onReachEdge(e) {},\n  onPanelChange: function onPanelChange(e) {}\n};\n\nvar ReactRenderer = /*#__PURE__*/function (_super) {\n  __extends(ReactRenderer, _super);\n\n  function ReactRenderer(options) {\n    var _this = _super.call(this, options) || this;\n\n    _this._reactFlicking = options.reactFlicking;\n    return _this;\n  } // eslint-disable-next-line @typescript-eslint/require-await\n\n\n  var __proto = ReactRenderer.prototype;\n\n  __proto.render = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var flicking, reactFlicking, strategy;\n      return __generator(this, function (_a) {\n        flicking = getFlickingAttached(this._flicking);\n        reactFlicking = this._reactFlicking;\n        strategy = this._strategy;\n        strategy.updateRenderingPanels(flicking);\n        strategy.renderPanels(flicking);\n        return [2\n        /*return*/\n        , new Promise(function (resolve) {\n          reactFlicking.renderEmitter.once(\"render\", resolve);\n          reactFlicking.forceUpdate();\n        })];\n      });\n    });\n  };\n\n  __proto.forceRenderAllPanels = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var reactFlicking;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            reactFlicking = this._reactFlicking;\n            return [4\n            /*yield*/\n            , _super.prototype.forceRenderAllPanels.call(this)];\n\n          case 1:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , new Promise(function (resolve) {\n              reactFlicking.renderEmitter.once(\"render\", resolve);\n              reactFlicking.forceUpdate();\n            })];\n        }\n      });\n    });\n  };\n\n  __proto._collectPanels = function () {\n    var flicking = getFlickingAttached(this._flicking);\n    var reactFlicking = this._reactFlicking;\n    var reactPanels = reactFlicking.reactPanels;\n    this._panels = this._strategy.collectPanels(flicking, reactPanels);\n  };\n\n  __proto._createPanel = function (externalComponent, options) {\n    return this._strategy.createPanel(externalComponent, options);\n  };\n\n  return ReactRenderer;\n}(ExternalRenderer);\n\nvar StrictPanel = /*#__PURE__*/function (_super) {\n  __extends(StrictPanel, _super);\n\n  function StrictPanel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._hide = false;\n    _this._elRef = React.createRef();\n    return _this;\n  }\n\n  var __proto = StrictPanel.prototype;\n  Object.defineProperty(__proto, \"nativeElement\", {\n    get: function get() {\n      return this._elRef.current;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"rendered\", {\n    get: function get() {\n      return !this._hide;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  __proto.render = function () {\n    return this._hide ? React.createElement(React.Fragment, null) : this._getElement();\n  };\n\n  __proto.show = function () {\n    this._hide = false;\n  };\n\n  __proto.hide = function () {\n    this._hide = true;\n  };\n\n  __proto._getElement = function () {\n    return React.cloneElement(React.Children.only(this.props.children), {\n      ref: this._elRef\n    });\n  };\n\n  return StrictPanel;\n}(React.Component);\n\nvar NonStrictPanel = /*#__PURE__*/function (_super) {\n  __extends(NonStrictPanel, _super);\n\n  function NonStrictPanel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._hide = false;\n    return _this;\n  }\n\n  var __proto = NonStrictPanel.prototype;\n  Object.defineProperty(__proto, \"nativeElement\", {\n    get: function get() {\n      return findDOMNode(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"rendered\", {\n    get: function get() {\n      return !this._hide;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  __proto.render = function () {\n    return this._hide ? React.createElement(React.Fragment, null) : this.props.children;\n  };\n\n  __proto.show = function () {\n    this._hide = false;\n  };\n\n  __proto.hide = function () {\n    this._hide = true;\n  };\n\n  return NonStrictPanel;\n}(React.Component);\n/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\n\n\nvar ViewportSlot = React__default.memo(function (_a) {\n  var children = _a.children;\n  return React__default.createElement(React__default.Fragment, null, children);\n});\n\nvar ReactElementProvider = /*#__PURE__*/function () {\n  function ReactElementProvider(el) {\n    this._el = el;\n  }\n\n  var __proto = ReactElementProvider.prototype;\n  Object.defineProperty(__proto, \"element\", {\n    get: function get() {\n      return this._el.nativeElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"rendered\", {\n    get: function get() {\n      return this._el.rendered;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  __proto.show = function () {\n    this._el.show();\n  };\n\n  __proto.hide = function () {\n    this._el.hide();\n  };\n\n  return ReactElementProvider;\n}();\n\nvar LifeCycleState;\n\n(function (LifeCycleState) {\n  LifeCycleState[LifeCycleState[\"BEFORE_UPDATE\"] = 0] = \"BEFORE_UPDATE\";\n  LifeCycleState[LifeCycleState[\"RENDER\"] = 1] = \"RENDER\";\n  LifeCycleState[LifeCycleState[\"UPDATED\"] = 2] = \"UPDATED\";\n})(LifeCycleState || (LifeCycleState = {}));\n\nvar Flicking = /*#__PURE__*/function (_super) {\n  __extends(Flicking, _super);\n\n  function Flicking(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._panels = [];\n    _this._renderEmitter = new Component();\n    _this._currentState = LifeCycleState.BEFORE_UPDATE;\n    _this._panels = _this._createPanelRefs(props, _this._getChildren());\n    return _this;\n  }\n\n  var __proto = Flicking.prototype;\n  Object.defineProperty(__proto, \"reactPanels\", {\n    get: function get() {\n      return this._panels.map(function (panel) {\n        return panel.current;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"renderEmitter\", {\n    get: function get() {\n      return this._renderEmitter;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  __proto.componentDidMount = function () {\n    var props = this.props;\n    var rendererOptions = {\n      reactFlicking: this,\n      align: props.align,\n      strategy: props.virtual && props.panelsPerView > 0 ? new VirtualRenderingStrategy() : new NormalRenderingStrategy({\n        providerCtor: ReactElementProvider\n      })\n    };\n    var flicking = new VanillaFlicking__default(this._viewportElement, _assign(_assign({}, props), {\n      externalRenderer: new ReactRenderer(rendererOptions)\n    }));\n    this._vanillaFlicking = flicking;\n    this._currentState = LifeCycleState.UPDATED;\n\n    var children = this._getChildren();\n\n    this._jsxDiffer = new ListDiffer(children, function (panel) {\n      return panel.key;\n    });\n    this._pluginsDiffer = new ListDiffer();\n\n    this._bindEvents();\n\n    this._checkPlugins();\n\n    if (props.status) {\n      flicking.setStatus(props.status);\n    }\n  };\n\n  __proto.componentWillUnmount = function () {\n    var _a;\n\n    (_a = this._vanillaFlicking) === null || _a === void 0 ? void 0 : _a.destroy();\n  };\n\n  __proto.shouldComponentUpdate = function (nextProps) {\n    var props = this.props;\n\n    if (this._currentState !== LifeCycleState.BEFORE_UPDATE && props.children !== nextProps.children) {\n      var nextChildren = this._getChildren(nextProps.children);\n\n      this._panels = this._createPanelRefs(nextProps, nextChildren);\n      this._diffResult = this._jsxDiffer.update(nextChildren);\n    }\n\n    this._currentState = LifeCycleState.BEFORE_UPDATE;\n\n    for (var key in nextProps) {\n      if (props[key] !== nextProps[key]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  __proto.componentDidUpdate = function () {\n    var flicking = this._vanillaFlicking;\n    var renderEmitter = this._renderEmitter;\n    var diffResult = this._diffResult;\n\n    this._checkPlugins();\n\n    renderEmitter.trigger(\"render\");\n    this._currentState = LifeCycleState.UPDATED;\n    if (!diffResult || !flicking.initialized) return;\n    sync(flicking, diffResult, this.reactPanels);\n    this._diffResult = null;\n  };\n\n  __proto.render = function () {\n    var _this = this;\n\n    var _a, _b;\n\n    var props = this.props;\n    var Viewport = props.viewportTag;\n    var Camera = props.cameraTag;\n    var attributes = {};\n    var flicking = this._vanillaFlicking;\n    this._currentState = LifeCycleState.RENDER;\n\n    for (var name in props) {\n      if (!(name in DEFAULT_PROPS) && !(name in VanillaFlicking__default.prototype)) {\n        attributes[name] = props[name];\n      }\n    }\n\n    var initialized = flicking && flicking.initialized;\n    var viewportClasses = [\"flicking-viewport\"];\n    var isHorizontal = flicking ? flicking.horizontal : (_a = props.horizontal) !== null && _a !== void 0 ? _a : true;\n\n    if (!isHorizontal) {\n      viewportClasses.push(\"vertical\");\n    }\n\n    if (props.hideBeforeInit && !initialized) {\n      viewportClasses.push(\"flicking-hidden\");\n    }\n\n    if (attributes.className) {\n      viewportClasses.push(attributes.className);\n    }\n\n    var cameraProps = !initialized && props.firstPanelSize ? {\n      style: {\n        transform: getDefaultCameraTransform(this.props.align, this.props.horizontal, this.props.firstPanelSize)\n      }\n    } : {};\n    var panels = !!props.virtual && ((_b = props.panelsPerView) !== null && _b !== void 0 ? _b : -1) > 0 ? this._getVirtualPanels() : this._getPanels();\n    return React.createElement(Viewport, _assign({}, attributes, {\n      className: viewportClasses.join(\" \"),\n      ref: function ref(e) {\n        e && (_this._viewportElement = e);\n      }\n    }), React.createElement(Camera, _assign({\n      className: \"flicking-camera\"\n    }, cameraProps), panels), this._getViewportSlot());\n  };\n\n  __proto._createPanelRefs = function (props, children) {\n    var _a;\n\n    var panelsPerView = (_a = props.panelsPerView) !== null && _a !== void 0 ? _a : -1;\n    return panelsPerView > 0 && !!props.virtual ? range(panelsPerView + 1).map(function () {\n      return React.createRef();\n    }) : children.map(function () {\n      return React.createRef();\n    });\n  };\n\n  __proto._bindEvents = function () {\n    var _this = this;\n\n    var flicking = this._vanillaFlicking;\n    var props = this.props;\n    Object.keys(EVENTS).forEach(function (eventKey) {\n      var eventName = EVENTS[eventKey];\n      var propName = \"on\" + (eventName.charAt(0).toUpperCase() + eventName.slice(1));\n      flicking.on(eventName, function (e) {\n        e.currentTarget = _this;\n        props[propName](e);\n      });\n    });\n    flicking.once(EVENTS.READY, function () {\n      _this.forceUpdate();\n    });\n  };\n\n  __proto._checkPlugins = function () {\n    var flicking = this._vanillaFlicking;\n\n    var _a = this._pluginsDiffer.update(this.props.plugins),\n        list = _a.list,\n        added = _a.added,\n        removed = _a.removed,\n        prevList = _a.prevList;\n\n    flicking.addPlugins.apply(flicking, added.map(function (index) {\n      return list[index];\n    }));\n    flicking.removePlugins.apply(flicking, removed.map(function (index) {\n      return prevList[index];\n    }));\n  };\n\n  __proto._getChildren = function (children) {\n    var _this = this;\n\n    if (children === void 0) {\n      children = this.props.children;\n    }\n\n    return React.Children.toArray(children).filter(function (child) {\n      return child.type !== ViewportSlot;\n    }).reduce(function (all, child) {\n      return __spreadArray(__spreadArray([], all, true), _this._unpackFragment(child), true);\n    }, []);\n  };\n\n  __proto._getViewportSlot = function () {\n    return React.Children.toArray(this.props.children).filter(function (child) {\n      return child.type === ViewportSlot;\n    });\n  };\n\n  __proto._unpackFragment = function (child) {\n    var _this = this;\n\n    return this._isFragment(child) ? React.Children.toArray(child.props.children).reduce(function (allChilds, fragChild) {\n      return __spreadArray(__spreadArray([], allChilds, true), _this._unpackFragment(fragChild), true);\n    }, []) : [child];\n  };\n\n  __proto._getVirtualPanels = function () {\n    var _this = this;\n\n    var _a = this.props.virtual.panelClass,\n        panelClass = _a === void 0 ? \"flicking-panel\" : _a;\n    var panelsPerView = this.props.panelsPerView;\n    var flicking = this._vanillaFlicking;\n    var initialized = flicking && flicking.initialized;\n    var renderingIndexes = initialized ? flicking.renderer.strategy.getRenderingIndexesByOrder(flicking) : range(panelsPerView + 1);\n    var firstPanel = flicking && flicking.panels[0];\n    var size = firstPanel ? flicking.horizontal ? {\n      width: firstPanel.size\n    } : {\n      height: firstPanel.size\n    } : {};\n    return renderingIndexes.map(function (idx) {\n      return React.createElement(\"div\", {\n        key: idx,\n        \"data-element-index\": idx,\n        ref: _this._panels[idx],\n        className: panelClass,\n        style: size\n      });\n    });\n  };\n\n  __proto._getPanels = function () {\n    var _this = this;\n\n    var origChildren = this._getChildren();\n\n    var vanillaFlicking = this._vanillaFlicking;\n    var diffResult = this._diffResult;\n    var children = vanillaFlicking && vanillaFlicking.initialized ? diffResult ? getRenderingPanels(vanillaFlicking, diffResult) : getRenderingPanels(vanillaFlicking, diff(origChildren, origChildren)) : origChildren;\n    return this.props.useFindDOMNode ? children.map(function (child, idx) {\n      return React.createElement(NonStrictPanel, {\n        key: child.key,\n        ref: _this._panels[idx]\n      }, child);\n    }) : children.map(function (child, idx) {\n      return React.createElement(StrictPanel, {\n        key: child.key,\n        ref: _this._panels[idx]\n      }, child);\n    });\n  };\n\n  __proto._isFragment = function (child) {\n    if (child.type) {\n      return child.type === React.Fragment;\n    }\n\n    return child === React.Fragment;\n  };\n\n  Flicking.defaultProps = DEFAULT_PROPS;\n\n  __decorate([withFlickingMethods], Flicking.prototype, \"_vanillaFlicking\", void 0);\n\n  return Flicking;\n}(React.Component);\n/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\n\n\nexport { ViewportSlot, Flicking as default };","map":{"version":3,"sources":["../src/react-flicking/consts.ts","../src/react-flicking/ReactRenderer.ts","../src/react-flicking/StrictPanel.tsx","../src/react-flicking/NonStrictPanel.tsx","../src/react-flicking/ViewportSlot.tsx","../src/react-flicking/ReactElementProvider.ts","../src/react-flicking/Flicking.tsx","../src/react-flicking/index.ts"],"names":["DEFAULT_PROPS","viewportTag","cameraTag","plugins","useFindDOMNode","hideBeforeInit","onReady","onBeforeResize","onAfterResize","onHoldStart","onHoldEnd","onMoveStart","onMove","onMoveEnd","onWillChange","onChanged","onWillRestore","onRestored","onSelect","onNeedPanel","onVisibleChange","onReachEdge","onPanelChange","__extends","_super","_this","options","flicking","getFlickingAttached","reactFlicking","strategy","reactPanels","React","Object","ref","_elRef","findDOMNode","ViewportSlot","children","LifeCycleState","Component","Flicking","withFlickingMethods","__decorate","props","rendererOptions","align","providerCtor","ReactElementProvider","externalRenderer","nextProps","nextChildren","renderEmitter","diffResult","sync","Viewport","Camera","attributes","name","VanillaFlicking","initialized","viewportClasses","isHorizontal","cameraProps","style","transform","getDefaultCameraTransform","panels","className","e","panelsPerView","eventName","EVENTS","propName","list","added","removed","prevList","all","child","allChilds","renderingIndexes","range","firstPanel","size","width","height","key","idx","panelClass","origChildren","vanillaFlicking","getRenderingPanels","diff"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport {\n  SelectEvent,\n  NeedPanelEvent,\n  VisibleChangeEvent,\n  HoldStartEvent,\n  HoldEndEvent,\n  MoveStartEvent,\n  MoveEvent,\n  MoveEndEvent,\n  WillChangeEvent,\n  ChangedEvent,\n  WillRestoreEvent,\n  RestoredEvent,\n  ReadyEvent,\n  BeforeResizeEvent,\n  AfterResizeEvent,\n  ReachEdgeEvent,\n  PanelChangeEvent\n} from \"@egjs/flicking\";\n\nimport { FlickingProps } from \"./types\";\n\nexport const DEFAULT_PROPS: FlickingProps = {\n  viewportTag: \"div\",\n  cameraTag: \"div\",\n  plugins: [],\n  useFindDOMNode: false,\n  hideBeforeInit: false,\n  onReady: (e: ReadyEvent) => {},\n  onBeforeResize: (e: BeforeResizeEvent) => {},\n  onAfterResize: (e: AfterResizeEvent) => {},\n  onHoldStart: (e: HoldStartEvent) => {},\n  onHoldEnd: (e: HoldEndEvent) => {},\n  onMoveStart: (e: MoveStartEvent) => {},\n  onMove: (e: MoveEvent) => {},\n  onMoveEnd: (e: MoveEndEvent) => {},\n  onWillChange: (e: WillChangeEvent) => {},\n  onChanged: (e: ChangedEvent) => {},\n  onWillRestore: (e: WillRestoreEvent) => {},\n  onRestored: (e: RestoredEvent) => {},\n  onSelect: (e: SelectEvent) => {},\n  onNeedPanel: (e: NeedPanelEvent) => {},\n  onVisibleChange: (e: VisibleChangeEvent) => {},\n  onReachEdge: (e: ReachEdgeEvent) => {},\n  onPanelChange: (e: PanelChangeEvent) => {}\n};\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { ExternalRenderer, PanelOptions, RendererOptions, getFlickingAttached } from \"@egjs/flicking\";\n\nimport ReactFlicking from \"./Flicking\";\nimport StrictPanel from \"./StrictPanel\";\nimport NonStrictPanel from \"./NonStrictPanel\";\n\nexport interface ReactRendererOptions extends RendererOptions {\n  reactFlicking: ReactFlicking;\n}\n\nclass ReactRenderer extends ExternalRenderer {\n  // Internal States\n  protected _reactFlicking: ReactFlicking;\n\n  public constructor(options: ReactRendererOptions) {\n    super(options);\n\n    this._reactFlicking = options.reactFlicking;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/require-await\n  public async render() {\n    const flicking = getFlickingAttached(this._flicking);\n    const reactFlicking = this._reactFlicking;\n    const strategy = this._strategy;\n\n    strategy.updateRenderingPanels(flicking);\n    strategy.renderPanels(flicking);\n\n    return new Promise<void>(resolve => {\n      reactFlicking.renderEmitter.once(\"render\", resolve);\n      reactFlicking.forceUpdate();\n    });\n  }\n\n  public async forceRenderAllPanels() {\n    const reactFlicking = this._reactFlicking;\n\n    await super.forceRenderAllPanels();\n\n    return new Promise<void>(resolve => {\n      reactFlicking.renderEmitter.once(\"render\", resolve);\n      reactFlicking.forceUpdate();\n    });\n  }\n\n  protected _collectPanels() {\n    const flicking = getFlickingAttached(this._flicking);\n    const reactFlicking = this._reactFlicking;\n    const reactPanels = reactFlicking.reactPanels;\n\n    this._panels = this._strategy.collectPanels(flicking, reactPanels);\n  }\n\n  protected _createPanel(externalComponent: StrictPanel | NonStrictPanel | HTMLDivElement, options: PanelOptions) {\n    return this._strategy.createPanel(externalComponent, options);\n  }\n}\n\nexport default ReactRenderer;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport * as React from \"react\";\n\nclass StrictPanel extends React.Component {\n  private _hide: boolean = false;\n\n  private _elRef: React.RefObject<HTMLElement> = React.createRef();\n\n  public get nativeElement() { return this._elRef.current!; }\n  public get rendered() { return !this._hide; }\n\n  public render() {\n    return this._hide\n      ? <></>\n      : this._getElement();\n  }\n\n  public show() {\n    this._hide = false;\n  }\n\n  public hide() {\n    this._hide = true;\n  }\n\n  private _getElement() {\n    return React.cloneElement(React.Children.only(this.props.children) as React.ReactElement, {\n      ref: this._elRef\n    });\n  }\n}\n\nexport default StrictPanel;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport * as React from \"react\";\nimport { findDOMNode } from \"react-dom\";\n\nclass NonStrictPanel extends React.Component {\n  private _hide: boolean = false;\n\n  public get nativeElement() { return findDOMNode(this) as HTMLElement; }\n  public get rendered() { return !this._hide; }\n\n  public render() {\n    return this._hide\n      ? <></>\n      : this.props.children;\n  }\n\n  public show() {\n    this._hide = false;\n  }\n\n  public hide() {\n    this._hide = true;\n  }\n}\n\nexport default NonStrictPanel;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport React from \"react\";\n\nconst ViewportSlot = React.memo(({ children }) => <>{children}</>);\n\nexport default ViewportSlot;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { ElementProvider } from \"@egjs/flicking\";\nimport StrictPanel from \"./StrictPanel\";\nimport NonStrictPanel from \"./NonStrictPanel\";\n\nclass ReactElementProvider implements ElementProvider {\n  private _el: StrictPanel | NonStrictPanel;\n\n  public get element() { return this._el.nativeElement; }\n  public get rendered() { return this._el.rendered; }\n\n  public constructor(el: StrictPanel | NonStrictPanel) {\n    this._el = el;\n  }\n\n  public show() {\n    this._el.show();\n  }\n\n  public hide() {\n    this._el.hide();\n  }\n}\n\nexport default ReactElementProvider;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport * as React from \"react\";\nimport Component from \"@egjs/component\";\nimport ListDiffer, { diff, DiffResult } from \"@egjs/list-differ\";\nimport VanillaFlicking, {\n  FlickingOptions,\n  VirtualRenderingStrategy,\n  EVENTS,\n  withFlickingMethods,\n  sync,\n  getRenderingPanels,\n  getDefaultCameraTransform,\n  Plugin,\n  range,\n  NormalRenderingStrategy\n} from \"@egjs/flicking\";\n\nimport { DEFAULT_PROPS } from \"./consts\";\nimport { FlickingProps } from \"./types\";\nimport ReactRenderer, { ReactRendererOptions } from \"./ReactRenderer\";\nimport StrictPanel from \"./StrictPanel\";\nimport NonStrictPanel from \"./NonStrictPanel\";\nimport ViewportSlot from \"./ViewportSlot\";\nimport ReactElementProvider from \"./ReactElementProvider\";\n\nenum LifeCycleState {\n  BEFORE_UPDATE,\n  RENDER,\n  UPDATED\n}\n\nclass Flicking extends React.Component<Partial<FlickingProps & FlickingOptions>> {\n  public static defaultProps: FlickingProps = DEFAULT_PROPS;\n\n  @withFlickingMethods private _vanillaFlicking: VanillaFlicking;\n  private _panels: React.RefObject<StrictPanel | NonStrictPanel | HTMLDivElement>[] = [];\n  private _pluginsDiffer: ListDiffer<any>;\n  private _jsxDiffer: ListDiffer<React.ReactElement>;\n  private _viewportElement: HTMLElement;\n  private _diffResult: DiffResult<React.ReactElement> | null;\n  private _renderEmitter = new Component<{ render: void }>();\n  private _currentState: LifeCycleState = LifeCycleState.BEFORE_UPDATE;\n\n  public get reactPanels() { return this._panels.map(panel => panel.current!); }\n  public get renderEmitter() { return this._renderEmitter; }\n\n  public constructor(props: Partial<FlickingProps & FlickingOptions>) {\n    super(props);\n\n    this._panels = this._createPanelRefs(props, this._getChildren());\n  }\n\n  public componentDidMount() {\n    const props = this.props as Required<FlickingProps & FlickingOptions>;\n    const rendererOptions: ReactRendererOptions = {\n      reactFlicking: this,\n      align: props.align,\n      strategy: props.virtual && props.panelsPerView > 0\n        ? new VirtualRenderingStrategy()\n        : new NormalRenderingStrategy({\n          providerCtor: ReactElementProvider\n        })\n    };\n\n    const flicking = new VanillaFlicking(\n      this._viewportElement,\n      {\n        ...props,\n        externalRenderer: new ReactRenderer(rendererOptions)\n      },\n    );\n\n    this._vanillaFlicking = flicking;\n    this._currentState = LifeCycleState.UPDATED;\n\n    const children = this._getChildren();\n    this._jsxDiffer = new ListDiffer(children, panel => panel.key!);\n    this._pluginsDiffer = new ListDiffer<any>();\n\n    this._bindEvents();\n    this._checkPlugins();\n\n    if (props.status) {\n      flicking.setStatus(props.status);\n    }\n  }\n\n  public componentWillUnmount() {\n    this._vanillaFlicking?.destroy();\n  }\n\n  public shouldComponentUpdate(nextProps: this[\"props\"]) {\n    const props = this.props;\n\n    if (this._currentState !== LifeCycleState.BEFORE_UPDATE && props.children !== nextProps.children) {\n      const nextChildren = this._getChildren(nextProps.children);\n\n      this._panels = this._createPanelRefs(nextProps, nextChildren);\n      this._diffResult = this._jsxDiffer.update(nextChildren);\n    }\n\n    this._currentState = LifeCycleState.BEFORE_UPDATE;\n\n    for (const key in nextProps) {\n      if (props[key] !== nextProps[key]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  public componentDidUpdate() {\n    const flicking = this._vanillaFlicking;\n    const renderEmitter = this._renderEmitter;\n    const diffResult = this._diffResult;\n\n    this._checkPlugins();\n    renderEmitter.trigger(\"render\");\n\n    this._currentState = LifeCycleState.UPDATED;\n\n    if (!diffResult || !flicking.initialized) return;\n\n    sync(flicking, diffResult, this.reactPanels);\n\n    this._diffResult = null;\n  }\n\n  public render() {\n    const props = this.props;\n    const Viewport = props.viewportTag as any;\n    const Camera = props.cameraTag as any;\n    const attributes: { [key: string]: any } = {};\n    const flicking = this._vanillaFlicking;\n\n    this._currentState = LifeCycleState.RENDER;\n\n    for (const name in props) {\n      if (!(name in DEFAULT_PROPS) && !(name in VanillaFlicking.prototype)) {\n        attributes[name] = props[name];\n      }\n    }\n\n    const initialized = flicking && flicking.initialized;\n    const viewportClasses: string[] = [\"flicking-viewport\"];\n    const isHorizontal = flicking\n      ? flicking.horizontal\n      : props.horizontal ?? true;\n\n    if (!isHorizontal) {\n      viewportClasses.push(\"vertical\");\n    }\n    if (props.hideBeforeInit && !initialized) {\n      viewportClasses.push(\"flicking-hidden\");\n    }\n    if (attributes.className) {\n      viewportClasses.push(attributes.className);\n    }\n\n    const cameraProps = !initialized && props.firstPanelSize\n      ? { style: {\n        transform: getDefaultCameraTransform(this.props.align, this.props.horizontal, this.props.firstPanelSize)\n      }}\n      : {};\n\n    const panels = !!props.virtual && (props.panelsPerView ?? -1) > 0\n      ? this._getVirtualPanels()\n      : this._getPanels();\n\n    return (\n      <Viewport {...attributes} className={viewportClasses.join(\" \")} ref={(e?: HTMLElement) => {\n        e && (this._viewportElement = e);\n      }}>\n        <Camera className=\"flicking-camera\" {...cameraProps}>\n          { panels }\n        </Camera>\n        { this._getViewportSlot() }\n      </Viewport>\n    );\n  }\n\n  private _createPanelRefs(props: this[\"props\"], children: Array<React.ReactElement<any>>): React.RefObject<StrictPanel | NonStrictPanel | HTMLDivElement>[] {\n    const panelsPerView = props.panelsPerView ?? -1;\n\n    return panelsPerView > 0 && !!props.virtual\n      ? range(panelsPerView + 1).map(() => React.createRef())\n      : children.map(() => React.createRef());\n  }\n\n  private _bindEvents() {\n    const flicking = this._vanillaFlicking!;\n    const props = this.props as Required<FlickingProps>;\n\n    Object.keys(EVENTS).forEach((eventKey: keyof typeof EVENTS) => {\n      const eventName = EVENTS[eventKey];\n      const propName = `on${eventName.charAt(0).toUpperCase() + eventName.slice(1)}`;\n\n      flicking.on(eventName, e => {\n        e.currentTarget = this;\n\n        props[propName](e);\n      });\n    });\n\n    flicking.once(EVENTS.READY, () => {\n      this.forceUpdate();\n    });\n  }\n\n  private _checkPlugins() {\n    const flicking = this._vanillaFlicking;\n    const { list, added, removed, prevList } = this._pluginsDiffer.update(this.props.plugins!) as DiffResult<Plugin>;\n\n    flicking.addPlugins(...added.map(index => list[index]));\n    flicking.removePlugins(...removed.map(index => prevList[index]));\n  }\n\n  private _getChildren(children: React.ReactNode = this.props.children) {\n    return (React.Children.toArray(children) as Array<React.ReactElement<any>>)\n      .filter(child => child.type !== ViewportSlot)\n      .reduce((all, child) => {\n        return [...all, ...this._unpackFragment(child)];\n      }, []) as Array<React.ReactElement<any>>;\n  }\n\n  private _getViewportSlot() {\n    return (React.Children.toArray(this.props.children) as Array<React.ReactElement<any>>)\n      .filter(child => child.type === ViewportSlot);\n  }\n\n  private _unpackFragment(child: React.ReactElement) {\n    return this._isFragment(child)\n      ? React.Children.toArray(child.props.children)\n        .reduce((allChilds, fragChild) => [...allChilds, ...this._unpackFragment(fragChild)], [])\n      : [child];\n  }\n\n  private _getVirtualPanels() {\n    const {\n      panelClass = \"flicking-panel\"\n    } = this.props.virtual!;\n    const panelsPerView = this.props.panelsPerView!;\n    const flicking = this._vanillaFlicking;\n    const initialized = flicking && flicking.initialized;\n\n    const renderingIndexes = initialized\n      ? flicking.renderer.strategy.getRenderingIndexesByOrder(flicking)\n      : range(panelsPerView + 1);\n\n    const firstPanel = flicking && flicking.panels[0];\n    const size = firstPanel\n      ? flicking.horizontal\n        ? { width: firstPanel.size }\n        : { height: firstPanel.size }\n      : {};\n\n    return renderingIndexes.map(idx => {\n      return <div\n        key={idx}\n        data-element-index={idx}\n        ref={this._panels[idx] as React.RefObject<HTMLDivElement>}\n        className={panelClass}\n        style={size} />\n    });\n  }\n\n  private _getPanels() {\n    const origChildren = this._getChildren();\n    const vanillaFlicking = this._vanillaFlicking;\n    const diffResult = this._diffResult;\n\n    const children = vanillaFlicking && vanillaFlicking.initialized\n      ? diffResult\n        ? getRenderingPanels(vanillaFlicking, diffResult)\n        : getRenderingPanels(vanillaFlicking, diff(origChildren, origChildren))\n      : origChildren;\n\n    return this.props.useFindDOMNode\n      ? children.map((child, idx) => <NonStrictPanel key={child.key!} ref={this._panels[idx] as any}>{child}</NonStrictPanel>)\n      : children.map((child, idx) => <StrictPanel key={child.key!} ref={this._panels[idx] as any}>{child}</StrictPanel>)\n  }\n\n  private _isFragment(child: NonNullable<React.ReactNode>) {\n    if ((child as React.ReactElement).type) {\n      return (child as React.ReactElement).type === React.Fragment;\n    }\n    return child === React.Fragment;\n  }\n}\n\ninterface Flicking extends React.Component<Partial<FlickingProps & FlickingOptions>>, VanillaFlicking { }\nexport default Flicking;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Flicking from \"./Flicking\";\nimport ViewportSlot from \"./ViewportSlot\";\n\nexport * from \"@egjs/flicking\";\nexport * from \"./types\";\n\nexport {\n  ViewportSlot\n}\nexport default Flicking;\n"]},"metadata":{},"sourceType":"module"}